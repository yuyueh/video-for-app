<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
  <style>
    body {
        background: #e4cccc;
    }
    #lottie-container {
      width: 300px;
      height: 300px;
      margin: 0 auto;
    }
  </style>
    <style>
        #content {
            display: none; /* 預設不顯示 */
        }
    </style>
</head>
<body>
    <div id="loading">影片載入中...</div>
    <main id="content">
        <p>
            <a href="./chart.html">chart</a>
            <a href="https://cdpn.io/cpe/boomboom/index.html?key=index.html-fc129961-1609-a828-88b4-b6dd178ed32c">highchart</a>
  
            <div id="lottie-container"></div>
            <video id="video1" width="250" height="100%" autoplay muted playsinline>
                <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                <source src="./assets/test.webm" type="video/webm">
            </video>
            <video id="video2" width="250" height="100%" autoplay loop muted playsinline style="display: none;">
                <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                <source src="./assets/test.webm" type="video/webm">
            </video>

            <!-- <embed src="https://www.cathay-cube.com.tw/content/dam/cub-aem-cs/Files/app/114accountsecurity.pdf" type="application/pdf" width="70%" height="200px" /> -->
            <iframe src="https://www.cathay-cube.com.tw/content/dam/cub-aem-cs/Files/app/114accountsecurity.pdf" frameborder="0" width="70%" height="200px">no support</iframe>
        </p>
        <ul>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
            <li>
                <video width="50" height="100%" autoplay loop muted playsinline>
                    <source src="./assets/test.mp4" type='video/mp4; codecs="hvc1"'>
                    <source src="./assets/test.webm" type="video/webm">
                    </video>
                <p>訊息一一一</p>
            </li>
        </ul>
        
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js" integrity="sha512-Z8CqofpIcnJN80feS2uccz+pXWgZzeKxDsDNMD/dJ6997/LSRY+W4NmEt9acwR+Gt9OHN0kkI1CTianCwoqcjQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <div>
        <button id="prev">上一頁</button>
        <button id="next">下一頁</button>
        <span>頁數: <span id="page_num"></span> / <span id="page_count"></span></span>
    </div>
    <canvas id="example"></canvas>
    <script>
        // pdf檔案路徑，如果是絕對路徑，請Server使用CORS
        var url = "//www.cathay-cube.com.tw/content/dam/cub-aem-cs/Files/app/114accountsecurity.pdf";
        pdfjsLib.workerSrc = "//mozilla.github.io/pdf.js/build/pdf.worker.js";
  
        var pdfDoc = null,
        pageNum = 1,
        pageRendering = false,
        pageNumPending = null,
        scale = 0.8,
        canvas = document.getElementById( "example" ),
        ctx = canvas.getContext( "2d" );
  
        function renderPage( num )
        {
            pageRendering = true;
            pdfDoc.getPage( num ).then( function( page ) {
                var viewport = page.getViewport( scale );
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                var renderContext = {
                    canvasContext: ctx,
                    viewport: viewport
                };
                var renderTask = page.render(renderContext);
                renderTask.promise.then( function() {
                    pageRendering = false;
                    if ( pageNumPending !== null ) {
                        renderPage( pageNumPending );
                        pageNumPending = null;
                    }
                });
            });
            document.getElementById( "page_num" ).textContent = num;
        }
  
        function queueRenderPage( num )
        {
            if ( pageRendering ) {
                pageNumPending = num;
            } else {
                renderPage( num );
            }
        }
  
        function onPrevPage()
        {
            // 上一頁
            if ( pageNum <= 1 ) {
                return;
            }
            pageNum--;
            queueRenderPage( pageNum );
        }
        document.getElementById( "prev" ).addEventListener( "click", onPrevPage );
  
        function onNextPage()
        {
            // 下一頁
            if ( pageNum >= pdfDoc.numPages ) {
                return;
            }
            pageNum++;
            queueRenderPage( pageNum );
        }
        document.getElementById( "next" ).addEventListener( "click", onNextPage );
  
        pdfjsLib.getDocument( url ).then( function( pdfDoc_ ) {
            pdfDoc = pdfDoc_;
            document.getElementById( "page_count" ).textContent = pdfDoc.numPages;
            renderPage( pageNum );
        });
    </script>
    <script>
        const video = document.querySelector('video');
        const loading = document.getElementById('loading');
        const content = document.getElementById('content');
        const video1 = document.getElementById('video1');
        const video2 = document.getElementById('video2');

        // 監聽影片的載入事件
        video.addEventListener('canplaythrough', () => {
            console.log("影片已完全載入");
            document.body.style.visibility = 'visible'; // 顯示網頁
            loading.style.display = 'none'; // 隱藏載入提示
            content.style.display = 'block'; // 顯示內容
        });

        video.addEventListener('error', (e) => {
            console.error("影片載入失敗", e);
            loading.textContent = "影片載入失敗，請稍後再試";
        });

        video1.addEventListener('ended', () => {
            video1.style.display = 'none';
            video2.style.display = 'block'; // 顯示內容
        });
    </script>
     <script>
        // 取得 Lottie 動畫容器
        const container = document.getElementById('lottie-container');
    
        // 初始化 Lottie 動畫
        lottie.loadAnimation({
          container: container, // 指定動畫容器
          renderer: 'svg', // 可選 'svg', 'canvas', 或 'html'
          loop: true, // 是否循環播放
          autoplay: true, // 是否自動播放
          path: './assets/test.json' // Lottie JSON 文件的 URL
        });
      </script>
</body>
</html>